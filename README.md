# This is a description of a script that creates mosaic of images


[![Foo](https://i.imgur.com/D5wjsv9.png)](https://drive.google.com/open?id=0BxWRyyRCfA3gS0JEaTFpMWRLcXM)

## User story
I (user) would like to have a tool build on top of [GDAL] that would perfrom mosaicing of large ammount of images in a mult-threaded way on a cluster, performing [IR-MAD] based on [PRRN] for remote sensing image mosaics. All input images are already aligned (projection and pixels).

### What is the outcome?
The result will be a command-line java application that recieves inputs, flags, and produces output. Input parameters preferably be done mimicing [gdalwarp]

### What is done:

Algorithm for [IR-MAD]. Single threaded. 2 Images.

### Assumptions:

*Since we can use python and CCA needs to be parallel following assumtion is outdated, but for development simplicity, we still assume that:*
> **Если это упростит задачу, можно считать, что две любые сцены помещаются польностью в память**
> I assume, that any 2 datasets fit into memory (without compression).
Without this assumption some algorithms will need to be implemented in batch fashion.
i.e [CCA] and Orthogonal Regression will need to be fed with small batches, other
than whole dataset. Such implementation, though easily done with TensorFlow, seems difficult to implement in Java language.

- Any 2 images are aligned (projection and pixel)

### Notes from paper [PRRN]

#### Calculation steps for [RRN]
[RRN] method addresses two overlaping images.
1. [IR-MAD] is performed
2. Othogonal regression with the selected invariant pixels is employed to calculate normalistion coefficients for each band of the subject image.

#### Calculation steps for [IR-MAD]
Look at python program

#### Calculaion steps for Parallel implementation

1. Build a tree with reference image in the center. This is done by finding intersecting images (parallel?)

2. Calculate [IR-MAD] coefficients for each pair of adjacent images (parallel)

3. Apply sequential transofrmation for coefficients (calculate normalization coefficients), so they all match reference image
(sequential part)

> TODO:
> 1. Determine what components will final product need
> 2. Find more atomic pieces which are needed to build a software product, their dependencies. Like [IR-MAD] depends on [CCA] or [RRN] depends on [IR-MAD] and so on...

# Q & A

**What is the input?**
The program will have a terminal interface with following options:
mosaic [options] input_files... output_directory

**What is the outcome?**
There are few options:
1. Folder with reprojected and recolored images. Since program will in either case do a reprojecting, it'll have to store reprojected files in some tempoary directory, this temporary directory may be result directory.
2. JSON-File, describing the reference image and band transfomation matrices
3. Color-transfomated images, but without reprojecting. May be usefull, if we'll do reprojection later.

Also, there should be debug output, such as log. Log should contain:
1. Tree structure of performed tree building
2. Error reports, if any
3. Warnings

**How color transfomation is perfomed?**
IDK

**How much policemen does it take to screw a light bulb?**
- None, they just beat the shit out of room for being black

# Programm structure

Calculation steps:

1. User inputs files.
2. Program detects intersecting images.
3. Program builds a tree structure based on intersecting images
4. Program reprojects and aligns pixels with reference (root) image in parallel. On this stage, we have a set of pairs of images, which we have to process. Multiple threads have to be spawned.
5. Program spawns sub-threads. These sub-threads have to determina color tansformation matrix and push it to common pool
6. Pogram joins all sub-threads. On this stage, we have a set of neatly placed color transformation matrices into one array.
7. Program calculates transformation matrices with reference image as pivot.
8. (Optional) program updates band values of each image.

# Class diagram

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="811px" version="1.1" content="&lt;mxfile userAgent=&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163.100 Safari/537.36&quot; version=&quot;7.5.6&quot; editor=&quot;www.draw.io&quot; type=&quot;google&quot;&gt;&lt;diagram id=&quot;dd36a63f-564a-c8fb-e934-239763a712d7&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" onclick="(function(svg){var src=window.event.target||window.event.srcElement;while (src!=null&amp;&amp;src.nodeName.toLowerCase()!='a'){src=src.parentNode;}if(src==null){if(svg.wnd!=null&amp;&amp;!svg.wnd.closed){svg.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&amp;&amp;evt.source==svg.wnd){svg.wnd.postMessage(decodeURIComponent(svg.getAttribute('content')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);svg.wnd=window.open('https://www.draw.io/?client=1&amp;lightbox=1&amp;edit=_blank');}}})(this);" viewBox="0 0 811 813" style="cursor:pointer;max-width:100%;max-height:813px;"><defs><clipPath id="mx-clip-314-148-152-26-0"><rect x="314" y="148" width="152" height="26"/></clipPath><clipPath id="mx-clip-314-174-152-26-0"><rect x="314" y="174" width="152" height="26"/></clipPath><clipPath id="mx-clip-314-208-152-26-0"><rect x="314" y="208" width="152" height="26"/></clipPath><clipPath id="mx-clip-314-234-152-26-0"><rect x="314" y="234" width="152" height="26"/></clipPath><clipPath id="mx-clip-314-260-152-26-0"><rect x="314" y="260" width="152" height="26"/></clipPath><clipPath id="mx-clip-314-286-152-26-0"><rect x="314" y="286" width="152" height="26"/></clipPath><clipPath id="mx-clip-554-281-152-34-0"><rect x="554" y="281" width="152" height="34"/></clipPath><clipPath id="mx-clip-154-362-112-26-0"><rect x="154" y="362" width="112" height="26"/></clipPath><clipPath id="mx-clip-154-388-112-26-0"><rect x="154" y="388" width="112" height="26"/></clipPath><clipPath id="mx-clip-154-414-112-26-0"><rect x="154" y="414" width="112" height="26"/></clipPath><clipPath id="mx-clip-654-41-152-26-0"><rect x="654" y="41" width="152" height="26"/></clipPath><clipPath id="mx-clip-654-67-152-26-0"><rect x="654" y="67" width="152" height="26"/></clipPath><clipPath id="mx-clip-654-93-152-26-0"><rect x="654" y="93" width="152" height="26"/></clipPath><clipPath id="mx-clip-554-181-152-26-0"><rect x="554" y="181" width="152" height="26"/></clipPath><clipPath id="mx-clip-554-207-152-26-0"><rect x="554" y="207" width="152" height="26"/></clipPath><clipPath id="mx-clip-554-599-152-26-0"><rect x="554" y="599" width="152" height="26"/></clipPath><clipPath id="mx-clip-554-520-152-26-0"><rect x="554" y="520" width="152" height="26"/></clipPath><clipPath id="mx-clip-314-363-152-26-0"><rect x="314" y="363" width="152" height="26"/></clipPath><clipPath id="mx-clip-314-389-152-28-0"><rect x="314" y="389" width="152" height="28"/></clipPath><clipPath id="mx-clip-554-361-152-26-0"><rect x="554" y="361" width="152" height="26"/></clipPath><clipPath id="mx-clip-314-521-152-26-0"><rect x="314" y="521" width="152" height="26"/></clipPath><clipPath id="mx-clip-314-547-152-26-0"><rect x="314" y="547" width="152" height="26"/></clipPath><clipPath id="mx-clip-314-573-152-26-0"><rect x="314" y="573" width="152" height="26"/></clipPath><clipPath id="mx-clip-314-599-152-26-0"><rect x="314" y="599" width="152" height="26"/></clipPath><clipPath id="mx-clip-314-694-152-26-0"><rect x="314" y="694" width="152" height="26"/></clipPath><clipPath id="mx-clip-114-681-152-26-0"><rect x="114" y="681" width="152" height="26"/></clipPath><clipPath id="mx-clip-114-762-152-26-0"><rect x="114" y="762" width="152" height="26"/></clipPath><clipPath id="mx-clip-314-762-152-26-0"><rect x="314" y="762" width="152" height="26"/></clipPath><clipPath id="mx-clip-314-788-152-26-0"><rect x="314" y="788" width="152" height="26"/></clipPath></defs><g transform="translate(0.5,0.5)"><g transform="translate(4.5,-0.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="250" height="113" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; overflow: hidden; max-height: 130px; max-width: 250px; width: 250px; white-space: normal; word-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><h1>Class Diagram of PRRN Application</h1><div>Clear and flexible definition of program structure</div></div></div></foreignObject><text x="125" y="63" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">&lt;h1&gt;Class Diagram of PRRN Application&lt;/h1&gt;&lt;div&gt;Clear and flexible definition of program structure&lt;/div&gt;</text></switch></g><rect x="310" y="117" width="160" height="190" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 310 143 L 310 117 L 470 117 L 470 143 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(354.5,123.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="69" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><b>GrapBuilder</b></div></div></foreignObject><text x="35" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica" font-weight="bold">&lt;b&gt;GrapBuilder&lt;/b&gt;</text></switch></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-314-148-152-26-0)" font-size="12px"><text x="315.5" y="160.5">+ graph: rastergrid, defaultedge</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-314-174-152-26-0)" font-size="12px"><text x="315.5" y="186.5">+ files: list of strings</text></g><path d="M 310 199 L 470 199" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-314-208-152-26-0)" font-size="12px"><text x="315.5" y="220.5">+ calculate_graph()</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-314-234-152-26-0)" font-size="12px"><text x="315.5" y="246.5">+ add_file()</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-314-260-152-26-0)" font-size="12px"><text x="315.5" y="272.5">+ get_graph()</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-314-286-152-26-0)" font-size="12px"><text x="315.5" y="298.5">+ get_tasks(): list</text></g><rect x="550" y="250" width="160" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 550 276 L 550 250 L 710 250 L 710 276 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(581.5,256.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="95" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><b>RRNTaskFactory</b></div></div></foreignObject><text x="48" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica" font-weight="bold">&lt;b&gt;RRNTaskFactory&lt;/b&gt;</text></switch></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-554-281-152-34-0)" font-size="12px"><text x="555.5" y="293.5">+ get_task(dataset,dataset)</text><text x="555.5" y="307.5">: RNNTask</text></g><path d="M 298.02 679.51 L 270 678.6" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 309.01 679.87 L 303.41 682.92 L 298.02 679.51 L 303.62 676.46 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 390 726.99 L 390 731" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 390 715.99 L 393.24 721.49 L 390 726.99 L 386.76 721.49 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 190 713.99 L 190 731" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 190 702.99 L 193.24 708.49 L 190 713.99 L 186.76 708.49 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="150" y="331" width="120" height="104" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 150 357 L 150 331 L 270 331 L 270 357 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(180.5,337.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="57" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><div><b>Controller</b></div></div></div></foreignObject><text x="29" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica" font-weight="bold">[Not supported by viewer]</text></switch></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-154-362-112-26-0)" font-size="12px"><text x="155.5" y="374.5">+ add_files()</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-154-388-112-26-0)" font-size="12px"><text x="155.5" y="400.5">+ execute()</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-154-414-112-26-0)" font-size="12px"><text x="155.5" y="426.5">+ get_graph()</text></g><rect x="15" y="330" width="95" height="120" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(55.5,382.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="12" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 14px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><div><b>UI</b></div></div></div></foreignObject><text x="6" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 281.96 378.6 L 310 376.89" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 270.98 379.27 L 276.28 375.71 L 281.96 378.6 L 276.67 382.17 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 273.43 322.74 L 310 288" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 265.45 330.32 L 267.21 324.19 L 273.43 322.74 L 271.67 328.88 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 390 320.01 L 390 307" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 390 331.01 L 386.76 325.51 L 390 320.01 L 393.24 325.51 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 481.96 365.87 L 550 361.33" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 470.98 366.6 L 476.26 363.01 L 481.96 365.87 L 476.69 369.46 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 390 423.99 L 390 490" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 390 412.99 L 393.24 418.49 L 390 423.99 L 386.76 418.49 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 481.83 539.89 L 550 528.67" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 470.97 541.67 L 475.87 537.59 L 481.83 539.89 L 476.93 543.97 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 390 631.99 L 390 650" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 390 620.99 L 393.24 626.49 L 390 631.99 L 386.76 626.49 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 138.04 387.68 L 109.53 389.53" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 149.02 386.96 L 143.74 390.55 L 138.04 387.68 L 143.32 384.09 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 129.55 314 L 150 331.54" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 20 229 L 126 229 L 140 243 L 140 314 L 20 314 L 20 229 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none"/><path d="M 126 229 L 126 243 L 140 243" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(21.5,229.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="117" height="80" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 117px; white-space: normal; word-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><span>Does not do any logic. Just provides necessary information from user and sends commands</span></div></div></foreignObject><text x="59" y="46" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="310" y="10" width="160" height="41" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(324.5,23.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="128" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">JGraphT DirectedGraph</div></div></foreignObject><text x="64" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">JGraphT DirectedGraph</text></switch></g><path d="M 390 105.01 L 390 51" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 390 116.01 L 386.76 110.51 L 390 105.01 L 393.24 110.51 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="650" y="10" width="160" height="104" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 650 36 L 650 10 L 810 10 L 810 36 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="728.91" y="27.5">RasterGrid</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-654-41-152-26-0)" font-size="12px"><text x="655.5" y="53.5">+ intersects(other)</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-654-67-152-26-0)" font-size="12px"><text x="655.5" y="79.5">+ same_grid(other)</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-654-93-152-26-0)" font-size="12px"><text x="655.5" y="105.5">+ constructor( dataset )</text></g><path d="M 160 203 L 266 203 L 280 217 L 280 286 L 160 286 L 160 203 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none"/><path d="M 266 203 L 266 217 L 280 217" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(161.5,203.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="117" height="39" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 117px; white-space: normal; word-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Creates graph and yields tasks when asked</div></div></foreignObject><text x="59" y="26" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Creates graph and yields tasks when asked</text></switch></g><path d="M 280 233.03 L 310 227.29" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><rect x="550" y="150" width="160" height="78" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 550 176 L 550 150 L 710 150 L 710 176 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="628.91" y="167.5">RasterDataset</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-554-181-152-26-0)" font-size="12px"><text x="555.5" y="193.5">+ ds: GdalDataset</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-554-207-152-26-0)" font-size="12px"><text x="555.5" y="219.5">+ rg: RasterGrid</text></g><path d="M 668.12 140.58 L 689.06 114" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 661.32 149.23 L 662.18 142.9 L 668.12 140.58 L 667.26 146.91 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="510" y="10" width="120" height="41" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(511.5,23.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="66" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">GdalDataset</div></div></foreignObject><text x="33" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">GdalDataset</text></switch></g><path d="M 610.99 138.79 L 577.76 51" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 614.89 149.08 L 609.91 145.08 L 610.99 138.79 L 615.97 142.79 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 481.53 237.93 L 550 257.33" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 470.95 234.94 L 477.12 233.32 L 481.53 237.93 L 475.36 239.55 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 481.93 203.19 L 550 196.67" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 470.98 204.24 L 476.15 200.49 L 481.93 203.19 L 476.77 206.94 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 630 238.01 L 630 228" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 630 249.01 L 626.76 243.51 L 630 238.01 L 633.24 243.51 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 721.94 523.83 L 790 530 L 790 189 L 710 189" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 710.98 522.84 L 716.75 520.11 L 721.94 523.83 L 716.17 526.56 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 710 288.67 L 750 293 L 750 450 L 676.72 490" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><rect x="550" y="568" width="160" height="52" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 550 594 L 550 568 L 710 568 L 710 594 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="628.91" y="584.5">PixelPairGenerator</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-554-599-152-26-0)" font-size="12px"><text x="555.5" y="611.5">+ next_batch(size): list</text></g><rect x="550" y="490" width="160" height="51" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 550 515 L 550 490 L 710 490 L 710 515 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="628.91" y="507.5">RRNTask</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-554-520-152-26-0)" font-size="12px"><text x="555.5" y="532.5">+ get_pixel_generator()</text></g><path d="M 641 652 L 765 652 L 781 668 L 781 726 L 641 726 L 641 652 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none"/><path d="M 765 652 L 765 668 L 781 668" fill="none" stroke="#d6b656" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(642.5,652.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="137" height="66" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 137px; white-space: normal; word-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><div>Is responsible for proper data feed for process evaluation. Spawns PixelPairGenerator on demand.</div></div></div></foreignObject><text x="69" y="39" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 731.91 652 L 750 620 L 750 570 L 686.15 541" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 467.19 418.15 L 587.35 490" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 457.75 412.51 L 464.13 412.55 L 467.19 418.15 L 460.81 418.11 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(591.5,472.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">0...*</div></div></foreignObject><text x="11" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">0...*</text></switch></g><g transform="translate(351.5,472.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">0...*</div></div></foreignObject><text x="11" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">0...*</text></switch></g><g transform="translate(361.5,418.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="6" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">1</div></div></foreignObject><text x="3" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">1</text></switch></g><g transform="translate(441.5,418.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="6" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">1</div></div></foreignObject><text x="3" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">1</text></switch></g><g transform="translate(521.5,175.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">0...*</div></div></foreignObject><text x="11" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">0...*</text></switch></g><g transform="translate(490.5,181.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="6" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">1</div></div></foreignObject><text x="3" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">1</text></switch></g><rect x="310" y="332" width="160" height="80" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 310 358 L 310 332 L 470 332 L 470 358 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" font-size="12px"><text x="311.5" y="348.5">TaskScheduler</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-314-363-152-26-0)" font-size="12px"><text x="315.5" y="375.5">+ execute()</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-314-389-152-28-0)" font-size="12px"><text x="315.5" y="401.5">+ get_coefs()</text></g><path d="M 481.83 569.92 L 550 581" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 470.97 568.16 L 476.92 565.85 L 481.83 569.92 L 475.88 572.23 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 630 568 L 630 541" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 598.64 382 L 468.39 490" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><rect x="550" y="330" width="160" height="52" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 550 356 L 550 330 L 710 330 L 710 356 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="628.91" y="347.5">RRNProcessFactory</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-554-361-152-26-0)" font-size="12px"><text x="555.5" y="373.5">+ get_process() : RNN Process</text></g><rect x="310" y="490" width="160" height="130" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 310 516 L 310 490 L 470 490 L 470 516 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="388.91" y="507.5">RRNProcess</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-314-521-152-26-0)" font-size="12px"><text x="315.5" y="533.5">+ setTask(task)</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-314-547-152-26-0)" font-size="12px"><text x="315.5" y="559.5">+ isrunning(task)</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-314-573-152-26-0)" font-size="12px"><text x="315.5" y="585.5">+ run()</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-314-599-152-26-0)" font-size="12px"><text x="315.5" y="611.5">+ get_results(): ???</text></g><rect x="310" y="650" width="160" height="65" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 310 689 L 310 650 L 470 650 L 470 689 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="388.91" y="666">RelativeRadiometric</text><text x="388.91" y="680">Normalization</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-314-694-152-26-0)" font-size="12px"><text x="315.5" y="706.5">+ get_coefs(pixgen)</text></g><rect x="110" y="650" width="160" height="52" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 110 676 L 110 650 L 270 650 L 270 676 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="188.91" y="666.5">IRMAD</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-114-681-152-26-0)" font-size="12px"><text x="115.5" y="693.5">+ get_mask(img1,img2)</text></g><rect x="110" y="731" width="160" height="52" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 110 757 L 110 731 L 270 731 L 270 757 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="188.91" y="747.5">CCA</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-114-762-152-26-0)" font-size="12px"><text x="115.5" y="774.5">+ get_coefs(img1,img2)</text></g><rect x="310" y="731" width="160" height="78" fill="#ffffff" stroke="#000000" pointer-events="none"/><path d="M 310 757 L 310 731 L 470 731 L 470 757 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="388.91" y="747.5">Regression</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-314-762-152-26-0)" font-size="12px"><text x="315.5" y="774.5">+ fit(X,Y)</text></g><g fill="#000000" font-family="Helvetica" clip-path="url(#mx-clip-314-788-152-26-0)" font-size="12px"><text x="315.5" y="800.5">+ get_coefs()</text></g></g></svg>

# Useful links
[netlib-java] Fast linear algebra library can be used for implementing CCA, IR-MAD, and Orthogonal Regression

[draw.io paper](https://github.com/artefom/prrn-mosaic) about CCA calulation process and benchmarks.

# Glossary

* [MAD] Multivariate Alternation Detection. Detects changes between two images

* [IR-MAD] Iterative reweighted version of MAD
some references: [python implementation](https://github.com/mortcanty/CRCDocker/blob/master/src/iMad.py) [port from R](https://rdrr.io/rforge/imad/man/iMad_original.html)
Scientific paper: [Canty and Nielsen (2008)](http://www2.imm.dtu.dk/pubdb/views/edoc_download.php/5362/pdf/imm5362.pdf)

* [RRN] - **Relative Radiometric Normalization**
is a procedure used to prepare multitemporal image data sets for the detection of spectral changes associated with phenomena such as land cover change. This procedure reduces the numeric differences between two images that have been induced by disparities in the acquisition conditions (e.g. sensor performance, solar irradiance, atmospheric effects) rather than changes in surface reflectance.

* [CCA] - Canonical Correlation Analysis. Used to decrease dimensionality of dataset. 

[PRRN]: https://drive.google.com/open?id=0BxWRyyRCfA3gS0JEaTFpMWRLcXM "Parallel relative radiometric normalisation."
[RRN]: http://www.sciencedirect.com/science/article/pii/0924271696000184 "Relative radiometric normalisation"
[IR-MAD]: http://www2.imm.dtu.dk/pubdb/views/edoc_download.php/5362/pdf/imm5362.pdf "Iteratively Reweighted Multivariate Alteration Detection"
[MAD]: http://www2.imm.dtu.dk/pubdb/views/edoc_download.php/5362/pdf/imm5362.pdf "Multivariate Alteration Detection"
[GDAL]: http://www.gdal.org/ "Geospatial Data Abstraction Library"
[R]: https://en.wikipedia.org/wiki/R_(programming_language) "R scientific programming language"
[gdalwarp]: http://www.gdal.org/gdalwarp.html "tool from gdal library for mosaicing"
[CCA]: https://en.wikipedia.org/wiki/Canonical_correlation "Canonical Correlation Analysis"
[netlib-java]: https://github.com/fommil/netlib-java "Fast Linear Algebra for Java"